<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MIPS to Hexadecimal Translator</title>
<style>
  body {
    font-family: Arial, sans-serif;
  }
  textarea {
    width: 100%;
    height: 200px;
    margin-bottom: 10px;
  }
  button {
    padding: 10px 20px;
    background-color: #4CAF50;
    color: white;
    border: none;
    cursor: pointer;
  }
  button:hover {
    background-color: #45a049;
  }
  #output {
    white-space: pre-line;
  }
</style>
</head>
<body>

<h1>MIPS to Hexadecimal Translator</h1>

<textarea id="input" placeholder="Enter MIPS instructions here..."></textarea>
<button onclick="translateMIPS()">Translate</button>

<div id="output"></div>

<script>
function translateMIPS() {
  const inputTextArea = document.getElementById('input');
  const outputDiv = document.getElementById('output');
  
  const instructions = inputTextArea.value.trim().split('\n');
  let output = '';
  
  instructions.forEach(instruction => {
    const translated = translateInstruction(instruction.trim());
    output += `${instruction} --> ${translated}\n\n`;
  });
  
  outputDiv.textContent = output;
}

function translateInstruction(instruction) {
    const opcodeMap = {
        "add": "000000", "addi": "001000", "sub": "000000", "lw": "100011",
        "sw": "101011", "beq": "000100", "bne": "000101", "slt": "000000"
        // Add more MIPS instructions and their opcodes as needed
    };

    const regMap = {
        "$zero": "00000", "$at": "00001", "$v0": "00010", "$v1": "00011",
        "$a0": "00100", "$a1": "00101", "$a2": "00110", "$a3": "00111",
        "$t0": "01000", "$t1": "01001", "$t2": "01010", "$t3": "01011",
        "$t4": "01100", "$t5": "01101", "$t6": "01110", "$t7": "01111",
        "$s0": "10000", "$s1": "10001", "$s2": "10010", "$s3": "10011",
        "$s4": "10100", "$s5": "10101", "$s6": "10110", "$s7": "10111",
        "$t8": "11000", "$t9": "11001", "$k0": "11010", "$k1": "11011",
        "$gp": "11100", "$sp": "11101", "$fp": "11110", "$ra": "11111"
    };

    const parts = instruction.split(' ');
    print(parts);
    const opcode = opcodeMap[parts[0]];
    if (!opcode) return "Unknown Instruction";

    let binaryInstruction = opcode;

    if (["add", "sub", "slt"].includes(parts[0])) {
        // R-type instruction
        const rd = regMap[parts[1]];
        const rs = regMap[parts[2]];
        const rt = regMap[parts[3]];
        if (!rd || !rs || !rt) return "Invalid Registers";
        binaryInstruction += rs + rt + rd + "00000" + "000000";
    } else if (["lw", "sw"].includes(parts[0])) {
        // I-type instruction
        const rt = regMap[parts[1]];
        const rs = regMap[parts[3].split(',')[0]];
        const immediate = parseInt(parts[2]);
        if (!rt || !rs || isNaN(immediate)) return "Invalid Syntax";
        binaryInstruction += rs + rt + (immediate >>> 0).toString(2).padStart(16, '0');
    } else if (["addi"].includes(parts[0])) {
        // I-type instruction
        const rt = regMap[parts[1]];
        const rs = regMap[parts[2]];
        const immediate = parseInt(parts[3]);
        if (!rt || !rs || isNaN(immediate)) return "Invalid Syntax";
        binaryInstruction += rs + rt + (immediate >>> 0).toString(2).padStart(16, '0');
    } else if (["beq", "bne"].includes(parts[0])) {
        // I-type instruction
        const rs = regMap[parts[1]];
        const rt = regMap[parts[2]];
        const label = parts[3];
        if (!rs || !rt) return "Invalid Registers";
        // For simplicity, assuming label is an immediate value (offset)
        const offset = parseInt(label);
        if (isNaN(offset)) return "Invalid Syntax";
        binaryInstruction += rs + rt + (offset >>> 0).toString(2).padStart(16, '0');
    } else {
        return "Unsupported Instruction";
    }

    // Convert binary instruction to hexadecimal
    const hexInstruction = parseInt(binaryInstruction, 2).toString(16).toUpperCase().padStart(8, '0');
    return "0x" + hexInstruction;
}

</script>

</body>
</html>
